{"version":3,"sources":["main.js"],"names":["x","localStorage","getItem","xObject","JSON","parse","hashMap","last","document","querySelector","simplifyUrl","url","replace","render","querySelectorAll","forEach","node","remove","index","newLi","createElement","classList","add","innerHTML","logo","parentNode","insertBefore","addEventListener","event","close","target","closest","site","preventDefault","splice","removeSite","addSite","window","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem","e","key","i","length","toLowerCase","open"],"mappings":"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","file":"main.0140fedd.js","sourceRoot":"../src","sourcesContent":["const x = localStorage.getItem(\"x\")\nconst xObject = JSON.parse(x)\nconst hashMap = xObject || []\nlet last = document.querySelector(\".siteList li.last\")\n\nconst simplifyUrl = url => {\n  return url\n    .replace(\"https://\", \"\")\n    .replace(\"http://\", \"\")\n    .replace(\"www.\", \"\")\n    .replace(/\\/.*/, \"\") // 删除 / 开头的内容\n}\n\nlet render = () => {\n  document\n    .querySelectorAll(\".siteList li.newSite\")\n    .forEach(node => node.remove())\n  hashMap.forEach((node, index) => {\n    let newLi = document.createElement(\"li\")\n    newLi.classList.add(\"newSite\")\n    newLi.innerHTML = `\n    <a href=\"${node.url}\">\n      <div class=\"site\">\n        <div class=\"logo\">${node.logo}</div>\n        <div class=\"link\">${simplifyUrl(node.url)}</div>\n        <button class=\"close\">\n          <svg class=\"icon\">\n            <use xlink:href=\"#icon-close1\"></use>\n          </svg>\n        </button>\n      </div>\n    </a>\n`\n    last.parentNode.insertBefore(newLi, last)\n    newLi.querySelector(\"a\").addEventListener(\"click\", event => {\n      let close = event.target.closest(\".close\")\n      if (!close) {\n        return\n      }\n      let site = close.closest(\"li\")\n      site.remove()\n      event.preventDefault()\n      hashMap.splice(index, 1)\n    })\n  })\n}\n\nrender()\n\ndocument\n  .querySelectorAll(\".siteList a\")\n  .forEach(node => node.addEventListener(\"click\", removeSite))\n\ndocument.querySelector(\".siteList li.last\").addEventListener(\"click\", addSite)\n\nfunction removeSite() {\n  let close = event.target.closest(\".close\")\n  if (!close) {\n    return\n  }\n  let site = close.closest(\"li\")\n  site.remove()\n  event.preventDefault()\n}\n\nfunction addSite() {\n  let url = window.prompt(\"请输入网址：\")\n  if (url.indexOf(\"http\") !== 0) {\n    url = \"https://\" + url\n  }\n  hashMap.push({\n    logo: simplifyUrl(url)[0].toUpperCase(),\n    url: url\n  })\n  render()\n}\n\nwindow.onbeforeunload = () => {\n  const string = JSON.stringify(hashMap)\n  localStorage.setItem(\"x\", string)\n}\n\ndocument.addEventListener(\"keypress\", e => {\n  const { key } = e\n  for (let i = 0; i < hashMap.length; i++) {\n    if (hashMap[i].logo.toLowerCase() === key) {\n      window.open(hashMap[i].url)\n    }\n  }\n})\n"]}